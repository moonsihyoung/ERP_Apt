@page "/Common"

<AuthorizeView>
    <Authorized>
        @*입주자 명단*@
        <div class="card">
            <div class="card-header">
                <table style="width: 100%">
                    <tr>
                        <td>
                            <span class="bi-people" style="font-size: 1.1em; color:Highlight"> &nbsp; 입주자 카드 정보</span>
                        </td>
                        <td class="text-right">
                            <button id="Apt_People" name="Apt_People" class="btn btn-outline-primary btn-sm" @onclick="onApt_People_Open">입주카드 입력</button>
                            <button id="Apt_People" name="Apt_People" class="btn btn-outline-primary btn-sm" @onclick="onNewFamily">동호 신규 등록</button>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="card-body">

                <table style="width: 100%; margin-bottom: 10px">
                    <tr>
                        <td width="60%">
                        </td>
                        <td class="text-right">
                            <button type="button" class="btn btn-primary btn-sm" @onclick="Resert"><span class="bi-door-open-fill"></span> &nbsp; 처음으로</button> &nbsp;
                            <button type="button" class="btn btn-info btn-sm" @onclick="OnSearch"><span class="bi-door-open-fill"></span> &nbsp; 검 색</button>
                        </td>
                    </tr>
                </table>
                <table class="table table-sm table-hover" style="font-size: 0.9em">
                    <thead>
                        <tr style="background-color:ghostwhite">
                            <th class="text-center">번호</th>
                            <th class="text-center">동호</th>
                            <th class="text-center">이름</th>
                            <th class="text-center">모바일</th>
                            <th class="text-center">소유자</th>
                            <th class="text-center">관계</th>
                            <th class="text-center">이메일</th>
                            <th class="text-center">출생일</th>
                            <th class="text-center">소개</th>
                            <th class="text-center">거주여부</th>
                            <th class="text-center">입주일</th>
                            <th class="text-center">입력일</th>
                            <th class="text-center">파일첨부</th>
                            <th class="text-center">선택</th>

                        </tr>
                    </thead>
                    @if (ann == null)
                    {
                        <tr>
                            <td colspan="14" style="text-align:center">
                                <img src="/images/loader.gif" />
                            </td>
                        </tr>

                    }
                    else if (ann.Count == 0)
                    {
                        <tr>
                            <td colspan="14" style="text-align:center">
                                입력된 정보가 없습니다. ............
                            </td>
                        </tr>
                    }
                    else
                    {
                        @foreach (var item in ann)
                        {
                            <tbody>
                                <tr>
                                    <td class="text-center" style="vertical-align:middle">
                                        @string.Format("{0: ###,###.##}", (intNum--))
                                    </td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Dong<span>-</span> @item.Ho</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.InnerName</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Hp</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.InnerOwner</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Relation</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Email</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.InnerScn1</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Intro</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)">
                                        @if (item.MoveA == "A")
                                        {
                                            <span style="color: blue">거주중</span>
                                        }
                                        else
                                        {
                                            <span style="color: red">이사함</span>
                                        }
                                    </td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.InDateTime</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.PostDate.ToShortDateString()</td>
                                    <td class="text-center" style="vertical-align:middle" @onclick="() => ByDetails(item)"> @item.Files_Count</td>
                                    <td class="text-center" style="vertical-align:middle">
                                        <input id="Button11" class="btn btn-link" style="font-size: 0.9em" type="button" @onclick="() => ByDetails(item)" value="상세" />&nbsp;
                                        <input id="Button12" class="btn btn-link" style="font-size: 0.9em" type="button" @onclick="() => ByEdit(item)" value="수정" />&nbsp;
                                        <input id="Button13" class="btn btn-link" style="font-size: 0.9em" type="button" @onclick="() => ByMove(item)" value="이사" />
                                    </td>
                                </tr>
                            </tbody>
                        }
                    }
                </table>

            </div>

            <div class="col-md-12">
                <DulPager.DulPagerComponent Model="pager" PageIndexChanged="PageIndexChanged"></DulPager.DulPagerComponent>
            </div>

        </div>
    </Authorized>
    <NotAuthorized>
        <p style="font-size: 2em; text-align:center">
            로그인되지 않았습니다. ............<br /><br /><br />
            <a class="btn btn-warning" href="/Logs/Index">로그인</a>
        </p>
    </NotAuthorized>
</AuthorizeView>



@* 입주자 카드 등록(수정) 모달 폼*@
@if (Views == "B")
{
    <div class="modal fade show d-block" id="subInput" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:beige">
                    <h5 class="modal-title"><span class="bi-people"></span>  &nbsp; 입주자 카드 등록</h5>                    
                </div>
                <div class="modal-body">
                    <table class="table" style="margin-bottom: 0px; margin-bottom: 0px">
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 동목록</span></div>
                                    <select id="Select1" class="custom-select" value="@bnn.Dong" style="font-size: 0.9em" @onchange="onDong" required>
                                        <option value="Z">=동 선택=</option>
                                        @foreach (var ite in dong)
                                        {
                                            <option value="@ite.Dong">@ite.Dong</option>
                                        }

                                    </select>
                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 호목록</span></div>
                                    <select id="Select1" class="custom-select" value="@bnn.Ho" style="font-size: 0.9em" @onchange="onHo" required>
                                        <option value="Z">=호 선택=</option>

                                        @foreach (var it in ho)
                                        {
                                            <option value="@it.Ho">@it.Ho</option>
                                        }
                                    </select>
                                </div>
                            </td>

                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주자명</span></div>
                                        <input id="txtInnerName" name="txtInnerName" @bind="bnn.InnerName" style="font-size: 0.9em; ime-mode: active;" class="form-control" type="text" />
                                    </div>

                                </div>
                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 소유자</span></div>
                                        <input id="txtInnerOwner" name="txtInnerOwner" style="font-size: 0.9em; ime-mode:acive" @bind="bnn.InnerOwner" class="form-control" type="text" />
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주형태</span></div>
                                        <select id="txtInter" value="@bnn.Inter" style="font-size: 0.9em" class="custom-select" bind="@bnn.Inter" @onchange="OnInter">
                                            <option value="">::선택::</option>
                                            <option value="자가">자가</option>
                                            <option value="전세">전세</option>
                                            <option value="월세">월세</option>
                                            <option value="임대">임대</option>
                                            <option value="임대">입주</option>
                                            <option value="미입주">미입주</option>
                                            <option value="기타">기타</option>
                                        </select>
                                    </div>

                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 단체가입</span></div>

                                    <select id="Select1" class="custom-select" value="@bnn.InnSoceity" @onchange="onInnSoceity" style="font-size: 0.9em">
                                        <option value="">::선택::</option>
                                        <option>없음</option>
                                        <option>동별대표자</option>
                                        <option>선거관리위원회</option>
                                        <option>노인회</option>
                                        <option>부녀회</option>
                                        <option>청년회</option>
                                        <option>동회회</option>
                                        <option>기타</option>
                                        <option>기재 안함</option>
                                    </select>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 연락처</span></div>
                                        <input id="txtHp" name="txtHp" style="font-size: 0.9em" @bind="bnn.Hp" class="form-control" type="tel" />
                                    </div>

                                </div>

                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주일</span></div>
                                        <input id="txtCeo_Name" name="txtCeo_Name" @bind="InDateTime" style="font-size: 0.9em;" class="form-control" type="date" />
                                    </div>

                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-journal-text"></span> &nbsp;  메일</span></div>
                                        <input id="txtEmail" name="txtEmail" style="font-size: 0.9em; ime-mode:disabled" @bind="bnn.Email" class="form-control" type="text" />
                                    </div>

                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 집전화</span></div>
                                        <input id="txtTel" name="txtTel" style="font-size: 0.9em" @bind="bnn.Tel" class="form-control" type="tel" />
                                    </div>

                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span>  &nbsp; 분양여부</span></div>
                                    <select id="txtBunyong" class="custom-select" value="@bnn.Bunyong" @onchange="OnBunyong" style="font-size: 0.9em">
                                        <option value="">::선택::</option>
                                        <option>분양</option>
                                        <option>미분양</option>
                                        <option>공가</option>
                                        <option>임대</option>
                                        <option>월세</option>
                                        <option>입주</option>
                                        <option>기타</option>
                                    </select>
                                </div>

                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 출생일</span></div>
                                        <input id="txtInnerScn" name="txtInnerScn" style="font-size: 0.9em" @bind="InnerScn" class="form-control" type="date" />
                                    </div>

                                </div>


                            </td>
                        </tr>



                        <tr id="vw4">
                            <td colspan="2">
                                <textarea id="txtIntro" class="form-control" rows="3" style="min-width: 100%" @bind="bnn.Intro" required></textarea>
                            </td>
                        </tr>
                    </table>
                    
                </div>
                <div class="modal-footer" style="background-color: burlywood">

                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnAptPeopleSave">저장</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnClose">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@* 이사 모달폼*@
@if (MoveViews == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:aliceblue">
                    <h5 class="modal-title">이사 정보 입력</h5>
                    @*<button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="ToggleClose">
                            <span aria-hidden="true">&times;</span>
                        </button>*@
                </div>
                <div class="modal-body">

                    <div class="input-group">
                        <div class="input-group">
                            <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> 이사일</span></div>
                            <input id="txtMoveDate" name="txtMoveDate" style="font-size: 0.9em" @bind="MoveDate" class="form-control" type="date" />
                        </div>

                    </div>
                </div>

                <div class="modal-footer" style="font-size: 0.9em">
                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnMoveSave">저장</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnMoveClose">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@* 입주자 카드 상세보기 모달 폼*@
@if (DetailsViews == "B")
{
    <div class="modal fade show d-block" id="subInput" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:beige">
                    <h5 class="modal-title"><span class="bi-people"></span>  &nbsp; 입주자 카드 정보</h5>
                    @*<button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="ToggleClose">
                            <span aria-hidden="true">&times;</span>
                        </button>*@
                </div>
                <div class="modal-body">
                    <table class="table" style="margin-bottom: 0px; margin-bottom: 0px; font-size: 0.9em">
                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 동이름 : </span>
                                @bnn.Dong<span>동</span>
                            </td>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 호이름 : </span>
                                @bnn.Ho<span>호</span>
                            </td>

                        </tr>

                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 입주자명 : </span>
                                @bnn.InnerName
                            </td>

                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 소유자 : </span>
                                @bnn.InnerOwner
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 입주형태 : </span>
                                @bnn.Inter

                            </td>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 가입단체 : </span>
                                @bnn.InnSoceity
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 연락처 : </span>
                                @bnn.Hp
                            </td>

                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 입주일 : </span>
                                @bnn.InDateTime
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 이메일 : </span>
                                @bnn.Email

                            </td>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 집전화 : </span>
                                @bnn.Tel
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 분양여부 : </span>
                                @bnn.Bunyong

                            </td>

                            <td>
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 출생일 : </span>
                                @bnn.InnerScn1
                            </td>
                        </tr>

                        <tr id="vw4">
                            <td colspan="2">
                                <span style="font-weight:bold"><span class="bi-easel"></span>&nbsp; 자기소개 : </span>
                                @((MarkupString)Dul.HtmlUtility.EncodeWithTabAndSpace(bnn.Intro))
                            </td>
                        </tr>
                    </table>

                    <table class="table">
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주자명</span></div>
                                        <input id="txtInnerName" name="txtInnerName" @bind="bnn.InnerName" style="font-size: 0.9em; ime-mode:acive" class="form-control" type="text" />
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 모바일</span></div>
                                        <input id="txtInnerName" name="txtInnerName" @bind="bnn.Hp" style="font-size: 0.9em" class="form-control" type="text" />
                                    </div>
                                </div>
                            </td>
                            
                            <td class="text-center" style="width: 150px; vertical-align:middle;" rowspan="2">
                                <button type="button" class="btn btn-primary btn-sm" @onclick="btnRelation"><span class="bi-save"></span> &nbsp;가족 등록</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 출생일</span></div>
                                        <input id="InnerScn1" name="txtInnerName" @bind="strDate" style="font-size: 0.9em" class="form-control" type="date" />
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 관계</span></div>
                                    <select id="Select1" class="custom-select" @bind="bnn.Relation" style="font-size: 0.9em">
                                        <option value="">::선택::</option>
                                        <option>배우자</option>
                                        <option>아들</option>
                                        <option>딸</option>
                                        <option>형제</option>
                                        <option>부</option>
                                        <option>모</option>
                                        <option>조부</option>
                                        <option>조모</option>
                                        <option>손녀</option>
                                        <option>사위</option>
                                        <option>며느리</option>
                                        <option>장인</option>
                                        <option>장모</option>
                                        <option>동거인</option>
                                        <option>기타</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                    </table>

                </div>
                <div class="modal-footer">
                    @if (Files_Count > 0)
	                {
                    <button type="button" class="btn btn-info btn-sm" @onclick="btnFilesViewsOpen"><span class="bi-view-stacked"></span> &nbsp;입주자카드 보기</button>
	                }
                     &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnFilesOpen"><span class="bi-file-image-fill"></span> &nbsp; 첨부 파일 등록</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnDetailsClose"><span class="bi-bag-x"></span> &nbsp;닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@*파일 첨부 올리기*@
@if (FileInsert == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><span class="bi-file-code"></span> 첨부파일 입력</h5>
                    @*<button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="ToggleClose">
                            <span aria-hidden="true">&times;</span>
                        </button>*@
                </div>
                <div class="modal-body">

                    <div style="margin-top: 10px">

                        <p>
                            <InputFile OnChange="LoadFiles" class="custom-file" style="font-size: 0.9em" multiple></InputFile>
                        </p>
                        @if (isLoading)
                        {
                            <p style="text-align: center">
                                <img src="/images/loader.gif" height="40" />
                            </p>
                            <p>Progress: @string.Format("{0:P0}", progressPercent)</p>
                           
                        }

                    </div>

                </div>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-secondary" @onclick="FilesClose">닫기</button>
                </div>
            </div>
        </div>
    </div>
}

@*파일 보기 모달품*@
@if (FileViews == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:aliceblue">
                    <h5 class="modal-title"><span class="bi-file-code"></span> 첨부파일 보기</h5>
                    @*<button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="ToggleClose">
                            <span aria-hidden="true">&times;</span>
                        </button>*@
                </div>
                <div class="modal-body">

                    @if (Files_Count > 0)
                    {
                        <div style="height: 550px; overflow-y: scroll; overflow-x: hidden">

                            @foreach (var files in Files_Entity)
                            {
                            
                                if (OnExtension(files.Sw_FileName) == ".pdf")
                                {
                                    <div>
                                        <embed src="/UpFiles/Apt_People/@files.Sw_FileName" type="application/pdf" style="width: 100%; height: 650px" />
                                    </div>
                                }
                                else
                                {
                                    if (Dul.BoardLibrary.IsPhoto(files.Sw_FileName))
                                    {
                                        <div>
                                            <img src="/UpFiles/Apt_People/@files.Sw_FileName" style="width: 900px;" class="img-thumbnail" />
                                        </div>
                                    }
                                }
                            }

                        </div>
                        <div style="height: 50px; overflow-y: hidden; overflow-x: scroll">
                            @foreach (var item in Files_Entity)
                            {
                                
                                    @item.Sw_FileName <span>&nbsp;</span> <button id="fileRemove" class="btn btn-link" @onclick="() => ByFileRemove(item)">삭제</button>
                                
                            }
                        </div>
                    }

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" @onclick="FilesViewsClose">닫기</button>
                </div>
            </div>
        </div>
    </div>
}

@* 입주자 동호 신규 등록 모달 폼*@
@if (ViewsNew == "B")
{
    <div class="modal fade show d-block" id="subInput" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:beige">
                    <h5 class="modal-title"><span class="bi-people"></span>  &nbsp; 입주자 동호 신규 등록</h5> 
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseA">
                            <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body">
                    <table class="table" style="margin-bottom: 0px; margin-bottom: 0px">
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 동목록</span></div>
                                    <select id="Select1" class="custom-select" value="@bnn.Dong" style="font-size: 0.9em" @onchange="onDong" required>
                                        <option value="Z">=동 선택=</option>
                                        @foreach (var ite in dong)
                                        {
                                            <option value="@ite.Dong">@ite.Dong</option>
                                        }

                                    </select>
                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 호</span></div>
                                    <input id="txtHo" name="txtHo" style="font-size: 0.9em" @bind="bnn.Ho" class="form-control" type="tel" />
                                </div>
                            </td>

                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주자명</span></div>
                                        <input id="txtInnerName" name="txtInnerName" @bind="bnn.InnerName" style="font-size: 0.9em" class="form-control" type="text" />
                                    </div>

                                </div>
                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 소유자</span></div>
                                        <input id="txtInnerOwner" name="txtInnerOwner" style="font-size: 0.9em" @bind="bnn.InnerOwner" class="form-control" type="text" />
                                    </div>

                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주형태</span></div>
                                        <select id="txtInter" value="@bnn.Inter" style="font-size: 0.9em" class="custom-select" bind="@bnn.Inter" @onchange="OnInter">
                                            <option value="">::선택::</option>
                                            <option value="자가">자가</option>
                                            <option value="전세">전세</option>
                                            <option value="월세">월세</option>
                                            <option value="임대">임대</option>
                                            <option value="임대">입주</option>
                                            <option value="미입주">미입주</option>
                                            <option value="기타">기타</option>
                                        </select>
                                    </div>

                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 단체가입</span></div>

                                    <select id="Select1" class="custom-select" value="@bnn.InnSoceity" @onchange="onInnSoceity" style="font-size: 0.9em">
                                        <option value="">::선택::</option>
                                        <option>없음</option>
                                        <option>동별대표자</option>
                                        <option>선거관리위원회</option>
                                        <option>노인회</option>
                                        <option>부녀회</option>
                                        <option>청년회</option>
                                        <option>동회회</option>
                                        <option>기타</option>
                                        <option>기재 안함</option>
                                    </select>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 연락처</span></div>
                                        <input id="txtHp" name="txtHp" style="font-size: 0.9em" @bind="bnn.Hp" class="form-control" type="tel" />
                                    </div>

                                </div>

                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span> &nbsp; 입주일</span></div>
                                        <input id="txtCeo_Name" name="txtCeo_Name" @bind="InDateTime" style="font-size: 0.9em" class="form-control" type="date" />
                                    </div>

                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-journal-text"></span> &nbsp;  메일</span></div>
                                        <input id="txtEmail" name="txtEmail" style="font-size: 0.9em; ime-mode:disabled" @bind="bnn.Email" class="form-control" type="text" />
                                    </div>

                                </div>

                            </td>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 집전화</span></div>
                                        <input id="txtTel" name="txtTel" style="font-size: 0.9em" @bind="bnn.Tel" class="form-control" type="tel" />
                                    </div>

                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span>  &nbsp; 분양여부</span></div>
                                    <select id="txtBunyong" class="custom-select" value="@bnn.Bunyong" @onchange="OnBunyong" style="font-size: 0.9em">
                                        <option value="">::선택::</option>
                                        <option>분양</option>
                                        <option>미분양</option>
                                        <option>공가</option>
                                        <option>임대</option>
                                        <option>월세</option>
                                        <option>입주</option>
                                        <option>기타</option>
                                    </select>
                                </div>

                            </td>

                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-file-earmark-binary"></span>  &nbsp; 출생일</span></div>
                                        <input id="txtInnerScn" name="txtInnerScn" style="font-size: 0.9em" @bind="InnerScn" class="form-control" type="date" />
                                    </div>

                                </div>


                            </td>
                        </tr>



                        <tr id="vw4">
                            <td colspan="2">
                                <textarea id="txtIntro" class="form-control" rows="3" style="min-width: 100%" @bind="bnn.Intro" required></textarea>
                            </td>
                        </tr>
                    </table>
                    
                </div>
                <div class="modal-footer" style="background-color: burlywood">

                    <button type="button" class="btn btn-primary btn-sm" @onclick="btnNewSave">저장</button> &nbsp; &nbsp; &nbsp;
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseA">닫기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop show"></div>
}

@* 검색 모달 폼*@
@if (SearchOpen == "B")
{
    <div class="modal fade show d-block" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:aliceblue">
                    <h6 class="modal-title"><span class="bi-door-open"></span> &nbsp; @strTitle</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="btnCloseS">
                            <span aria-hidden="true">&times;</span>
                        </button>
                </div>
                <div class="modal-body">
                    <table>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 동목록</span></div>
                                    <select id="Select1" class="custom-select" style="font-size: 0.9em" @onchange="onSearchDong" required>
                                        <option value="">=동 선택=</option>
                                        @foreach (var ite in dong)
                                        {
                                            <option value="@ite.Dong">@ite.Dong</option>
                                        }
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-clipboard-check"></span> &nbsp; 호목록</span></div>
                                    <select id="Select1" class="custom-select" style="font-size: 0.9em" @onchange="onSearchHo" required>
                                        <option value="">=호 선택=</option>
                                        @foreach (var it in s_ho)
                                        {
                                            <option value="@it.Ho">@it.Ho</option>
                                        }
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-telephone"></span> &nbsp; 모바일</span></div>
                                        <input id="Mobile" name="Mobile" style="font-size: 0.9em" value="@strMobile" class="form-control" type="text" @onchange="OnSearch_Mobile" placeholder="휴대폰 뒷자리를 입력하세요." />
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend"><span class="input-group-text" style="font-size: 0.9em"><span class="bi-people-fill"></span> &nbsp; 거주자</span></div>
                                        <input id="Name" name="Name" style="font-size: 0.9em" value="@strName" class="form-control" type="text" @onchange="OnSearch_Name" placeholder="거주자 명을 입력하세요." />
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>

                </div>
                <div class="modal-footer">                    
                    <button type="button" class="btn btn-secondary btn-sm" @onclick="btnCloseS"><span class="bi-door-closed"></span> &nbsp; 닫기</button>
                </div>
            </div>
        </div>
    </div>
}